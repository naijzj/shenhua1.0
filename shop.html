<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®ç‰©é˜ - ç¥è¯Â·å¤©å‘½</title>
    <link rel="stylesheet" href="shop-styles.css">
</head>
<body>
    <div class="game-container">
        <!-- é¡¶éƒ¨æ ‡é¢˜ä¸ç©å®¶çŠ¶æ€ -->
        <header class="shop-header">
            <div class="back-button">
                <a href="index.html">è¿”å›</a>
            </div>
            <h1 class="shop-title">å®ç‰©é˜</h1>
            <div class="player-status">
                <div class="player-currency">
                    <span class="currency-icon">ğŸ’°</span>
                    <span class="currency-amount">0</span>
                    <span class="currency-name">çµçŸ³</span>
                </div>
                <div class="rate-info">
                    <span>çµçŸ³ä»·æ ¼:</span>
                    <span class="spirit-stone-rate">100%</span>
                </div>
            </div>
        </header>
        
        <!-- è§†å›¾åˆ‡æ¢æ§åˆ¶ -->
        <div class="view-toggle-container">
            <button class="view-toggle active" data-view="buy">è´­ä¹°</button>
            <button class="view-toggle" data-view="sell">å‡ºå”®</button>
        </div>

        <!-- ç­›é€‰å™¨ -->
        <div class="filter-container">
            <div class="filter-title">åˆ†ç±»ç­›é€‰ï¼š</div>
            <div class="filter-buttons">
                <button class="category-filter" data-category="ä¸¹è¯">ä¸¹è¯</button>
                <button class="category-filter" data-category="æ³•å®">æ³•å®</button>
                <button class="category-filter" data-category="å…¸ç±">å…¸ç±</button>
            </div>
        </div>
        
        <!-- å•†å“å±•ç¤ºåŒºåŸŸï¼ˆè´­ä¹°ï¼‰ -->
        <div class="treasure-shop">
            <!-- å•†å“å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
        </div>
        
        <!-- ç‰©å“å‡ºå”®åŒºåŸŸï¼ˆå‡ºå”®ï¼‰ -->
        <div class="sell-items" style="display: none;">
            <!-- å‡ºå”®çš„ç‰©å“å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
        </div>
    </div>
    
    <!-- è„šæœ¬å¼•å…¥ -->
    <script type="module">
        import TreasureShop from './treasure-shop.js';
        import PlayerModule from './player.js';
        
        // åˆå§‹åŒ–å•†åº—
        const shop = new TreasureShop();
        
        // æ›´æ–°ç©å®¶çµçŸ³æ˜¾ç¤º
        function updateCurrencyDisplay() {
            const currencyElement = document.querySelector('.currency-amount');
            if (currencyElement) {
                currencyElement.textContent = PlayerModule.getCurrency();
            }
        }
        
        // è§‚å¯Ÿç©å®¶çµçŸ³å˜åŒ–
        PlayerModule.addObserver(updateCurrencyDisplay);
        
        // åˆå§‹æ˜¾ç¤ºçµçŸ³æ•°é‡
        updateCurrencyDisplay();
    </script>
</body>
</html> 